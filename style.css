*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: "Poppins", Arial, sans-serif;
}

body{
  min-height:100vh;
  background: radial-gradient(circle at top, #ffb6d5, #ff2d7a, #48002a);
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  padding:18px;
}

/* Glow background */
.glow{
  position:fixed;
  inset:-50px;
  background: radial-gradient(circle, rgba(255,255,255,0.18), transparent 60%);
  filter: blur(20px);
  animation: glowMove 6s infinite alternate;
  pointer-events:none;
}

@keyframes glowMove{
  from{ transform: translate(-20px, -10px); }
  to{ transform: translate(20px, 15px); }
}

/* Floating hearts layer */
.bg-hearts{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
}

.heart{
  position:absolute;
  bottom:-40px;
  width:18px;
  height:18px;
  background: rgba(255,255,255,0.8);
  transform: rotate(45deg);
  animation: floatUp 6s linear forwards;
  border-radius: 4px;
  opacity:0.9;
}
.heart::before,
.heart::after{
  content:"";
  position:absolute;
  width:18px;
  height:18px;
  background: rgba(255,255,255,0.8);
  border-radius:50%;
}
.heart::before{ left:-9px; top:0; }
.heart::after{ top:-9px; left:0; }

@keyframes floatUp{
  0%{ transform: translateY(0) rotate(45deg) scale(0.8); opacity:0.9; }
  100%{ transform: translateY(-110vh) rotate(45deg) scale(1.2); opacity:0; }
}

/* Music button */
.sound-btn{
  position:fixed;
  top:16px;
  right:16px;
  border:none;
  padding:12px 14px;
  border-radius:14px;
  cursor:pointer;
  font-weight:700;
  background: rgba(255,255,255,0.95);
  color:#111;
  box-shadow: 0 12px 30px rgba(0,0,0,0.25);
  z-index:10;
}

/* Layout */
.wrapper{
  width:100%;
  max-width:450px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
  z-index:2;
}

.hint{
  color: rgba(255,255,255,0.9);
  text-align:center;
  font-size:14px;
}

/* Card with 3D flip */
.card{
  width:100%;
  height:520px;
  perspective: 1200px;
  cursor:pointer;
  position:relative;
}

.card-face{
  position:absolute;
  inset:0;
  border-radius:26px;
  padding:26px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  backface-visibility:hidden;
  transition: transform 0.9s ease;
  box-shadow: 0 20px 45px rgba(0,0,0,0.35);
  overflow:hidden;
}

/* Front side */
.card-front{
  background: linear-gradient(135deg, rgba(255,255,255,0.97), rgba(255,240,250,0.95));
  border: 2px solid rgba(255,255,255,0.8);
}

.card-front h1{
  font-size:30px;
  color:#ff146d;
  margin:10px 0;
  text-shadow: 0 10px 25px rgba(255,20,109,0.3);
}
.card-front .mini{
  font-weight:700;
  color:#8a003f;
  font-size:14px;
}
.to-name{
  font-size:20px;
  color:#111;
  margin-top:5px;
}
.tap{
  margin-top:20px;
  font-weight:700;
  color:#ff146d;
  animation: bounce 1.2s infinite;
}

@keyframes bounce{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-8px); }
}

/* Back side */
.card-back{
  background: linear-gradient(135deg, #fff0f7, #ffe2ee);
  transform: rotateY(180deg);
  border: 2px solid rgba(255,20,109,0.25);
  justify-content:flex-start;
}

.card-back h2{
  font-size:24px;
  color:#ff146d;
  margin-bottom:10px;
  text-align:center;
}

.message{
  text-align:center;
  color:#2a0015;
  line-height:1.7;
  font-size:15px;
  background: rgba(255,255,255,0.75);
  padding:16px;
  border-radius:18px;
  border: 2px dashed rgba(255,20,109,0.35);
  margin-top:12px;
}

.signature{
  margin-top:18px;
  text-align:center;
  color:#2a0015;
}

.signature h3{
  margin-top:6px;
  font-size:18px;
  color:#111;
}
.phone{
  margin-top:6px;
  font-weight:700;
  color:#ff146d;
}

/* flip */
.card.open .card-front{
  transform: rotateY(180deg);
}
.card.open .card-back{
  transform: rotateY(360deg);
}

/* Photo */
.photo-box{
  width:150px;
  height:150px;          /* ‚úÖ m√™me valeur => rond */
  aspect-ratio: 1 / 1;   /* ‚úÖ force carr√© */
  border-radius:50%;
  overflow:hidden;
  margin:12px auto 16px;
  border: 4px solid rgba(255,20,109,0.5);
  box-shadow: 0 18px 40px rgba(255,20,109,0.35);
  position:relative;
}

.photo-box img{
  width:100%;
  height:100%;
  object-fit:cover;      /* ‚úÖ coupe bien */
  border-radius:50%;     /* ‚úÖ s√©curit√© */
  display:block;
}


.photo-box::after{
  content:"";
  position:absolute;
  inset:-10px;
  border-radius:50%;
  background: radial-gradient(circle, rgba(255,20,109,0.35), transparent 60%);
  filter: blur(10px);
  pointer-events:none;
}

.photo-box img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* üåßÔ∏è LAYER GLOBAL */
#falling-layer{
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 999;
}

/* BASE */
.fall{
  position: absolute;
  top: -40px;
  animation: fallDown linear forwards;
  opacity: 0.95;
}

/* CONFETTI */
.fall.confetti{
  width: 8px;
  height: 8px;
}

/* COEUR */
.fall.heart{
  width: 18px;
  height: 18px;
  background: #ff2d7a;
  transform: rotate(45deg);
}
.fall.heart::before,
.fall.heart::after{
  content:"";
  position:absolute;
  width:18px;
  height:18px;
  background:#ff2d7a;
  border-radius:50%;
}
.fall.heart::before{ left:-9px; }
.fall.heart::after{ top:-9px; }

/* √âTOILE */
.fall.star{
  font-size: 18px;
}

/* P√âTALE */
.fall.petal{
  font-size: 20px;
}

/* CADEAU */
.fall.gift{
  font-size: 22px;
}

/* Animation */
@keyframes fallDown{
  to{
    transform: translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

/* üéÜ FEUX D‚ÄôARTIFICE */
.firework{
  position: fixed;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  pointer-events: none;
  animation: explode 900ms ease-out forwards;
  z-index: 1000;
}

@keyframes explode{
  0%{ transform: scale(1); opacity:1; }
  100%{ transform: scale(18); opacity:0; }
}

/* üí´ √âTOILE FILANTE */
.shooting-star{
  position: fixed;
  width: 140px;
  height: 2px;
  border-radius: 999px;
  background: rgba(255,255,255,0.95);
  pointer-events: none;
  z-index: 1000;
  transform: rotate(-25deg);
  animation: shoot 900ms linear forwards;
}

@keyframes shoot{
  from{
    opacity:1;
    transform: translate(0,0) rotate(-25deg);
  }
  to{
    opacity:0;
    transform: translate(420px, 260px) rotate(-25deg);
  }
}

/* üéÅ ZONE CADEAUX */
.gift-area{
  margin-top:18px;
  display:flex;
  justify-content:center;
  gap:20px;
  flex-wrap:wrap;
}

/* üéÅ BOITE */
.gift-box{
  width:70px;
  height:70px;
  position:relative;
  cursor:pointer;
  transform-style:preserve-3d;
  transition: transform 0.4s ease;
}

.gift-box:hover{
  transform: scale(1.08);
}

/* COUVERCLE */
.gift-box .lid{
  position:absolute;
  top:0;
  width:100%;
  height:30%;
  background: linear-gradient(135deg, #ff4da6, #ff146d);
  border-radius:10px 10px 6px 6px;
  transform-origin: bottom;
  transition: transform 0.4s ease;
  z-index:2;
}

/* BOITE */
.gift-box .box{
  position:absolute;
  bottom:0;
  width:100%;
  height:70%;
  background: linear-gradient(135deg, #ff82c7, #ff4da6);
  border-radius:0 0 12px 12px;
}

.gift-box span{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:26px;
  z-index:3;
}

/* OUVERTURE */
.gift-box.open .lid{
  transform: rotateX(120deg);
}

/* MESSAGE D‚ÄôAMOUR */
.love-message{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%) scale(0.7);
  background: rgba(255,255,255,0.96);
  padding:22px 26px;
  border-radius:22px;
  font-weight:800;
  color:#ff146d;
  text-align:center;
  box-shadow: 0 30px 60px rgba(0,0,0,0.3);
  z-index:2000;
  animation: lovePop 0.4s ease forwards;
}

@keyframes lovePop{
  to{
    transform:translate(-50%, -50%) scale(1);
  }
}

/* ‚úÖ Mobile responsiveness */
@media (max-width: 480px){
  .card{ height: 520px; }
  .card-front h1{ font-size:26px; }
  .message{ font-size:14px; }
  .sound-btn{ padding:10px 12px; font-size:14px; }

  .photo-box{
    width:120px;
    height:120px;
  }

  .gift-box{
    width:60px;
    height:60px;
  }
}
